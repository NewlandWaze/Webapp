<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Login Form</title>
    <link rel="stylesheet" href="Login.css">
    <link href='https://unpkg.com/boxicons@2.1.4/css/boxicons.min.css' rel='stylesheet'>
</head>
<body>
    <div class="wrapper">
        <form id="login-form">
			<h1>Student Admission</h1>
           <h2>Login</h2>
            <div class="input-box">
                <input type="text" placeholder="Username" required id="username">
            </div>
            <div class="input-box">
                <input type="password" placeholder="Password" required id="password">
            </div>
            <div class="error" id="error-message"></div>
            <button type="submit" class="btn">Login</button>
            <p id="message"></p>
            <div class="register-link">
                <p>Don't have an account? <a href="Register.html"> Register</a></p>
            </div>
        </form>
    </div>
<script>
    document.addEventListener("DOMContentLoaded", function () {
        const loginForm = document.getElementById("login-form");
        const usernameInput = document.getElementById("username");
        const passwordInput = document.getElementById("password");
        const messageElement = document.getElementById("message");

        loginForm.addEventListener("submit", function (e) {
            e.preventDefault();

            const enteredUsername = usernameInput.value;
            const enteredPassword = passwordInput.value;

            // Retrieve the user data array from localStorage using the key "user"
            const storedUsers = JSON.parse(localStorage.getItem("user")) || [];

            // Find the user with the matching username and password
            const matchedUser = storedUsers.find((user) => user.username === enteredUsername && user.password === enteredPassword);

            if (matchedUser) {
                // If a matching user is found, navigate to the specified page (Home.html)
                localStorage.setItem("enteredUsername", enteredUsername);
                window.location.href = "Home.html";
            } else {
                // Display an error message
                messageElement.textContent = "Invalid username or password.";
            }
        });
    });
</script>
</body>
</html>
